# Aviasales Test Task

## Описание
Приложение получает данные о рейсах с сервера, отображает список рейсов, отсортированный по цене, и предоставляет детальную информацию о рейсе при выборе. 

### Основной функционал:
- Получение массива рейсов с сервера при старте приложения.
- Сортировка рейсов от самого дешевого к самому дорогому и отображение их на экране списком.
- У самого дешевого рейса должен быть бейдж Самый дешёвый.
- Если для рейса осталось меньше 10 билетов, на карточке рейса должно быть соответствующее уведомление.
- При нажатии на рейс открывается детальный экран с подробной информацией.
- На детальном экране при нажатии на кнопку Купить появляется алерт с сообщением: Куплен билет за X ₽, где X — цена выбранного билета.
###

  ### Требования:
  - SwiftUI
  - iOS 16+
  - MVVM
  - Codable
  - UI/Unit tests
  - Поддержка темной темы
  - Индикатор загрузки в момент загрузки
 
###

Когда начинается загрузка данных с сервера на экране отображается ProgressView. При успешной загрузке данных на экране появляется список рейсов. В случае ошибки пользователь видит сообщение об ошибке с кнопкой для повторной загрузки данных.    

Для отправки запросов на сервер и получения данных о рейсах используется сервис FlightSearchService. Результат возвращается в виде Result<FlightSearchResult, RequestError>.    
Этот сервис работает с классом HTTPClient. Он использует URLSession для выполнения сетевых запросов и обрабатывает ответы с сервера.   

Для создания моделей представления используется класс FlightViewModelFactory. Данный класс принимает FormatterService, который содержит набор методов для удобного представления данных в нужном формат    

View-компоненты разделены по логическим блокам, что обеспечивает удобство иерархической структуры


Реализована поддержка темной темы и написаны unit/ui тесты    
<img width="399" alt="Снимок экрана 2024-09-05 в 18 49 43" src="https://github.com/user-attachments/assets/e7ded6d1-dc71-42e8-9c77-76b1042a23e4">
<img width="398" alt="Снимок экрана 2024-09-05 в 18 47 16" src="https://github.com/user-attachments/assets/e8811b23-ee65-4ef7-b326-e7daa619fa63">
<img width="403" alt="Снимок экрана 2024-09-05 в 18 47 10" src="https://github.com/user-attachments/assets/76595e5c-afb6-40e0-a0cb-a7f52ea40b05">
<img width="402" alt="Снимок экрана 2024-09-05 в 18 41 40" src="https://github.com/user-attachments/assets/7b53e23e-d961-4c7a-b648-612242df0398">


